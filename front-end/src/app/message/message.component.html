<div class="container">
  <div id="sadness" *ngIf="!friends || !friends.length">
    <h1>you have no friends ...</h1>
    <img src="data:image/jpeg;base64,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">
  </div>
  <ul>
    <li class="friend" *ngFor="let friend of friends" [class.selected]="friend === selectedFriend" (click)="onClickFriend(friend)">
      <button id="friendpp" type="submit" (click)=friendProfilePage(friend)>
        <img [src]="friend.pp" />
      </button>
      <div class="name">
        {{ friend.pseudo }}
      </div>
      <div *ngIf="friend.status === 'ONLINE'" id="status-circle-online"></div>
      <div *ngIf="friend.status === 'OFFLINE'" id="status-circle-offline"></div>
      <div *ngIf="friend.status === 'IN_GAME'" id="status-circle-ig"></div>
    </li>
  </ul>
  <div *ngIf="selectedFriend && friends && friends.length" class="chat">
    <div *ngIf="selectedFriend.blocked">
      <button id="block-button" (click)="unblockFriend()">Unblock</button>
    </div>
    <div *ngIf="!selectedFriend.blocked">
      <div class="chat-header">
        Chatting with {{ selectedFriend.pseudo }}
      </div>
      <div class="chat-messages">
        <button id="block-button" (click)="matchFriend()">Match</button>
        <button id="block-button" (click)="blockFriend()">Block</button>
        <button id="block-button" (click)="deleteFriend()">Delete</button>
        <div *ngIf="conversation">
          <div *ngFor="let message of conversation.reverse()" class="message">
            <span class="sender"><em>{{ message.sender }}</em>: </span> {{ message.content }}
          </div>
        </div>
      </div>
      <div class="chat-input">
        <input type="text" [(ngModel)]="newMessage" (keyup.enter)="sendMessage(newMessage)" placeholder="Type a message..." />
        <button (click)="sendMessage(newMessage)">Send</button>
      </div>
    </div>
  </div>
</div>
